@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes cardFlyIn {
  0% {
    opacity: 0;
    transform: translate(var(--start-x), var(--start-y)) rotate(var(--rotation));
  }
  70% {
    opacity: 1;
    transform: translate(0, 0) rotate(calc(var(--rotation) * 0.1));
  }
  100% {
    opacity: 1;
    transform: translate(0, 0) rotate(0deg);
  }
}

@keyframes cardFlyToPlayer {
  0% {
    opacity: 1;
    transform: translate(0, 0) scale(1) rotate(0deg);
  }
  60% {
    opacity: 1;
    transform: translate(var(--end-x), var(--end-y)) scale(1) rotate(var(--rotation-angle));
  }
  100% {
    opacity: 1;
    transform: translate(var(--end-x), var(--final-y)) scale(0.8) rotate(var(--rotation-angle));
  }
}

.card-fly-in {
  animation: cardFlyIn 900ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  opacity: 0;
  /* Ensure hardware acceleration */
  will-change: transform, opacity;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.card-fly-to-player {
  animation: cardFlyToPlayer 1000ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  /* Ensure hardware acceleration */
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

@keyframes playerTurnGlow {
  0% {
    box-shadow: 0 0 0 0 var(--glow-color-start, rgba(59, 130, 246, 0.8));
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 40px 20px var(--glow-color-mid, rgba(59, 130, 246, 0.7)),
                0 0 80px 40px var(--glow-color-outer, rgba(59, 130, 246, 0.5)),
                0 0 120px 60px var(--glow-color-outer, rgba(59, 130, 246, 0.3));
    transform: scale(1.08);
  }
  100% {
    box-shadow: 0 0 0 0 var(--glow-color-end, rgba(59, 130, 246, 0));
    transform: scale(1);
  }
}

.player-turn-glow {
  animation: playerTurnGlow 1000ms ease-out forwards;
  position: relative;
  z-index: 10;
  overflow: visible !important;
}

.text-white-glow {
  text-shadow: 
    0 0 10px rgba(255, 255, 255, 0.8),
    0 0 20px rgba(255, 255, 255, 0.6),
    0 0 30px rgba(255, 255, 255, 0.4),
    0 0 40px rgba(255, 255, 255, 0.3);
}

.bg-rainbow-gradient {
  background: linear-gradient(to bottom right, 
    #f8b4d9 0%,      /* soft pink */
    #ffc8dd 15%,     /* light pink */
    #ffafcc 30%,     /* pink */
    #e0b1cb 45%,     /* lavender pink */
    #b8a9c9 60%,     /* soft purple */
    #a8c4f0 75%,     /* light blue */
    #c8d5f0 90%,     /* pale blue */
    #dbeafe 100%     /* sky blue */
  );
}

/* Prevent scrolling when in fullscreen mode */
:fullscreen,
:-webkit-full-screen,
:-moz-full-screen,
:-ms-fullscreen {
  overflow: hidden !important;
}

/* Ensure cards remain interactive in fullscreen */
[data-allow-touchmove] {
  touch-action: manipulation;
}
